<!DOCTYPE html>
    <html>
        <head>
            <title>Habsub: Tracker</title>
            <link rel="stylesheet" type="text/css" href="css/style.css">
            <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
            <script type="text/javascript" src="/js/script.js"></script>
        </head>
        <body>
            <div id="header">
                <img id="logo" src="res/Logo.png" alt="Logo" height="100">
                <nav>
                    <a href="index.html">Home</a> |
                    <a href = "tracker.html">My Tracker</a> |
                    <a href = "FAQ.html">FAQ</a>
                </nav>
            </div>
            <h2 id="myTracker">My Tracker</h2>
            <h3 id="streak">My streak:</h3>
            <table id="habits">
                <tr>
                    <th>Habit</th>
                    <th>Monday</th>
                    <th>Tuesday</th>
                    <th>Wednesday</th>
                    <th>Thursday</th>
                    <th>Friday</th>
                    <th>Saturday</th>
                    <th>Sunday</th>
                </tr>
                <%
                var color = "if(this.style.backgroundColor !== 'lightblue'){this.style.backgroundColor = 'lightblue'}else{this.style.backgroundColor = 'white'}"

                data.forEach(function(data, index) { %>
                <tr>
                    <td style="background-color: <% if(data.mood == "Positive") { %> LightGreen <% } else { %> LightCoral <% } %>">
                        <%= data.name%>
                        <button class="deleteButton" onclick="MainModule.deleteHabit(<%= data.id %>)">delete</button>
                        <button class="editButton" onclick="MainModule.setToEdit(<%= data.id %>)">edit</button>
                    </td>
                    <td onclick="<%= color %>">
                        <% if(data.days.indexOf("Monday") !== -1) { %>
                        ☝
                        <button class="doneButton" onclick="MainModule.markDone(<%= index %>, 0)">done!</button>
                        <% } %>
                    </td>
                    <td onclick="<%= color %>">
                        <% if(data.days.indexOf("Tuesday") !== -1) { %>
                        ☝
                        <button class="doneButton" onclick="MainModule.markDone(<%= index %>, 1)">done!</button>
                        <% } %>
                    </td>
                    <td onclick="<%= color %>">
                        <% if(data.days.indexOf("Wednesday") !== -1) { %>
                        ☝
                        <button class="doneButton" onclick="MainModule.markDone(<%= index %>, 2)">done!</button>
                        <% } %>
                    </td>
                    <td onclick="<%= color %>">
                        <% if(data.days.indexOf("Thursday") !== -1) { %>
                        ☝
                        <button class="doneButton" onclick="MainModule.markDone(<%= index %>, 3)">done!</button>
                        <% } %>
                    </td>
                    <td onclick="<%= color %>">
                        <% if(data.days.indexOf("Friday") !== -1) { %>
                        ☝
                        <button class="doneButton" onclick="MainModule.markDone(<%= index %>, 4)">done!</button>
                        <% } %>
                    </td>
                    <td onclick="<%= color %>">
                        <% if(data.days.indexOf("Saturday") !== -1) { %>
                        ☝
                        <button class="doneButton" onclick="MainModule.markDone(<%= index %>, 5)">done!</button>
                        <% } %>
                    </td>
                    <td onclick="<%= color %>">
                        <% if(data.days.indexOf("Sunday") !== -1) { %>
                        ☝
                        <button class="doneButton" onclick="MainModule.markDone(<%= index %>, 6)">done!</button>
                        <% } %>
                    </td>
                </tr>
                <% })%>
            </table>
            <ul id="habitList">
            </ul>
            
            <button id="addHabit">Add new habit</button>
            <div class="addForm">
            <form id="inputForm" class="hidden" onsubmit="return false">
                <input type="text" id="userInputHabit" placeholder ="New Habit"><br>
                <input type="text" id="userInputDesc" placeholder ="Habit Description"><br>
                When do you want to do this habit?
                <br>
                <input type="checkbox" name="DaysOfWeek" value="Monday">Monday
                <input type="checkbox" name="DaysOfWeek" value="Tuesday">Tuesday
                <input type="checkbox" name="DaysOfWeek" value="Wednesday">Wednesday
                <input type="checkbox" name="DaysOfWeek" value="Thursday">Thursday
                <input type="checkbox" name="DaysOfWeek" value="Friday">Friday
                <input type="checkbox" name="DaysOfWeek" value="Saturday">Saturday
                <input type="checkbox" name="DaysOfWeek" value="Sunday">Sunday
                <br>
                <input type="radio" name="Mood" value="Positive">Positive
                <input type="radio" name="Mood" value="Negative">Negative<br>
                <input id="addButton" type="submit" value="Add Habit" onclick="MainModule.addElement(this.form)">
            </form>
        </div>
            <form id="edit-habit" class="hidden" onsubmit="return false" action="">
                <input type="text" name="Name" placeholder="Name of habit">
                <br>
                <input type="text" name="Description" placeholder="Description of habit">
                <br>
                When do you want to do this habit?
                <br>
                <label><input type="checkbox" name="DaysOfWeek" value="Monday">Monday</label>
                <label><input type="checkbox" name="DaysOfWeek" value="Tuesday">Tuesday</label>
                <label><input type="checkbox" name="DaysOfWeek" value="Wednesday">Wednesday</label>
                <label><input type="checkbox" name="DaysOfWeek" value="Thursday">Thursday</label>
                <label><input type="checkbox" name="DaysOfWeek" value="Friday">Friday</label>
                <label><input type="checkbox" name="DaysOfWeek" value="Saturday">Saturday</label>
                <label><input type="checkbox" name="DaysOfWeek" value="Sunday">Sunday</label>
                <br>
                <input type="radio" name="Mood" value="Positive">Positive
                <input type="radio" name="Mood" value="Negative">Negative<br>
                <input id="editButton" type="submit" value="Save changes" onclick="MainModule.editHabit(this.form)">
            </form>
        </body>
    </html>
